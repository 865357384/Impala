From 68d0011bad5146b90505df89d75524a8c3b76a2f Mon Sep 17 00:00:00 2001
From: tedyu <yuzhihong@gmail.com>
Date: Mon, 3 Oct 2016 06:44:58 -0700
Subject: [PATCH 334/337] HBASE-16739 Timed out exception message should
 include encoded region name

(cherry picked from commit 252d7fae0ac43dae04d2c9708374593a6ae87a89)

Change-Id: I0ad2245a3f9d6ffe4fd09d74898d11134f517c4f
Author: tedyu
Reason: Bug
Ref: CDH-55070
---
 .../apache/hadoop/hbase/regionserver/HRegion.java  |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java b/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
index c19295b..0c30391 100644
--- a/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
@@ -5185,7 +5185,8 @@ public class HRegion implements HeapSize, PropagatingConfigurationObserver, Regi
         result = null;
         // Clean up the counts just in case this was the thing keeping the context alive.
         rowLockContext.cleanUp();
-        throw new IOException("Timed out waiting for lock for row: " + rowKey);
+        throw new IOException("Timed out waiting for lock for row: " + rowKey + " in region "
+            + getRegionInfo().getEncodedName());
       }
       return result;
     } catch (InterruptedException ie) {
-- 
1.7.9.5

